# macro

구현을 생각했을 때 매크로 파라미터에서 외부 변수의 캡쳐는 허용되지 않아야 할 것 같지만 다음과 같은 경우를 검사하고 싶어서 컴파일 타임 어썰션을 추가한다.

```zoa
let map = [
    [0, 0, 0, 0, 0],
    [0, 1, 1, 1, 0],
    [0, 1, 1, 1],
    [0, 0, 0, 0, 0],
];

// assert length of all elements in map are equal
```

이건 [Jai 에서 정말 끝내주는 기능](https://youtu.be/UTqZNujQOlA?t=3226)이라고 생각하고 이게 어떻게 작동해야 할지 고민이 필요하다. TODO

만약 입력이 side effect 가 있는 입력이었다면 좀 고민해봐야하지만, 이런 경우에는 컴파일 타임에서 저 코드를 만나기까지 코드를 컴파일타임에서 실행해주는 것이 맞다고 생각한다.